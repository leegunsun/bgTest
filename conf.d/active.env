# Enhanced Active Environment Configuration
# Supports multiple deployment strategies and load balancing

# Primary active environment/mode setting
set $active "green";

# NEW: Deployment mode configuration (single, dual, canary, ha)
set $deployment_mode "single";

# NEW: Load balancing method (round_robin, least_conn, ip_hash, weighted)
set $lb_method "round_robin";

# NEW: Upstream status monitoring (healthy, down, degraded)
set $upstream_status "healthy";

# NEW: Version synchronization tracking
set $blue_version "1.0.0";
set $green_version "2.0.0";

# NEW: Deployment state flags
set $versions_synchronized "false";     # Both environments have same version
set $load_balancing_enabled "false";    # Load balancing is active
set $canary_percentage "10";            # Canary traffic percentage (1-99)

# NEW: Deployment transition tracking
set $deployment_phase "stable";         # stable, deploying, switching, dual_update
set $last_deployment_time "2024-01-01T00:00:00Z";
set $deployment_target "none";          # Target for current deployment
